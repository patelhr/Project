language: android
sudo: required
jdk: oraclejdk8
env:
  global:
    - ANDROID_API=24
    - ANDROID_BUILD_TOOLS=24.0.2
android:
 components:
    - tools
    - platform-tools
    - build-tools-24.0.1
    - android-24
    - extra-android-m2repository
    - extra-google-m2repository
before_install:
    - chmod +x gradlew
    - ./gradlew dependencies || true
before_script:
- echo no | android create avd --force -n test -t android-21 --abi armeabi-v7a
- emulator -avd test -no-skin -no-audio -no-window &
- android-wait-for-emulator
- adb shell input keyevent 82 &
script:
    - ./gradlew clean build connectedCheck -PdisablePreDex --stacktrace
deploy:
  provider: releases
  file: Project.apk
  skip_cleanup: true

  on:
    repo: patelhr/Project
    tags: true
    jdk: oraclejdk8
  api_key:
    secure:"B1tmNme2q6OF+0Bin8KOmzhgIA1njZviQTRq0E2fBaPxjFS+BRaiXMG1dCUKBOHg0WPjmAG6e6PZkUqEYkNbPPH5vewvOZM0I7N4+z34NKQurZLkOXCtegLmfmmag4QwbI2XW31YCLxtHsENByh0YEYFuLFQt+g3r8jYnxFVrezyYFGJIl79Z5zwDCMHu7bFHZvN2FT50Jc6zviKQSt+yZtfAAt4EN/2ktRqECKxq3sz90O4o2w7YVWY+oxtBNz718oqFlx5ABjpSdHcjZ6su1B22nDFDpcol8eA8CZ2T7hLgzeqdCvdslNvYJcs78vVgRok3ciDNmAayBmv5sG07NRMI92FoekRK5nLA+elc3aqXkGYHFHsrdA/m+g1d1nFz7fW7E6wnB0/BSvVnzCyuzMEVbVxcWciqHpWjogpRNGzm8x/d9fwRIjk+ovTnoSRgx4ZB39RYH6k5W0Yb0OYS2pqPwt7JLx9eehVoxsa3Gp6rzQL2fnzpa3r5ksEskejcQJAy7lwWEmkPN5qeSHmDjiJ0fREIyBM3fffghOH/S7taFDO67kwwTPHUygE75flMpIrFETUfVZ+OCcBD1DJyWvwHogIBmPIo44POrmU1Mc0L/D0OgMC60WU1+6clismFx8u7JbaEsPbLnd7XDJmz2mzxqC1h6TWqX4bY/miQb4="
